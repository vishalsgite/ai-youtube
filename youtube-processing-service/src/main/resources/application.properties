spring.application.name=youtube-processing-service
server.port=8081

# YouTube API - Keys are managed via Environment Variables (.env)
youtube.api.key=${YOUTUBE_API_KEY}
youtube.api.base-url=https://www.googleapis.com/youtube/v3

# Kafka - Using the established pattern to allow both IDE and Docker support
spring.kafka.bootstrap-servers=${KAFKA_HOST:localhost}:9092

# --- Kafka Producer Settings ---
spring.kafka.producer.bootstrap-servers=${spring.kafka.bootstrap-servers}
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer
spring.kafka.producer.properties.spring.json.add.type.headers=true

# --- Kafka Consumer Settings ---
spring.kafka.consumer.bootstrap-servers=${spring.kafka.bootstrap-servers}
spring.kafka.consumer.group-id=youtube-processing-group-v2
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.ErrorHandlingDeserializer

# Deserializer Delegation & Security
spring.kafka.consumer.properties.spring.deserializer.value.delegate.class=org.springframework.kafka.support.serializer.JsonDeserializer
spring.kafka.consumer.properties.spring.json.trusted.packages=com.vishal.aiyoutube.*

# Logging & Timeouts
logging.level.com.vishal.aiyoutube=DEBUG
logging.level.org.springframework.kafka=INFO
spring.mvc.async.request-timeout=60000